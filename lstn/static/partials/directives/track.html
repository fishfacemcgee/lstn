<li id="track-{{ $id }}-{{ $index }}-{{ song.key }}" class="track clearfix">
  <div class="track__image">
    <img data-ng-src="{{ song.icon }}" alt="{{ song.album }}" title="{{ song.album }}">
    <div class="overlay"></div>
    <i class="fa fa-circle-o-notch fa-spin" data-ng-show="song.addingToQueue || song.removingFromQueue"></i>
    <span data-ng-hide="song.addingToQueue || song.in_queue || queueBitset[song.key]"
      class="glyphicon glyphicon-plus-sign" data-ng-click="addSongToQueue(song)" title="Add to Queue"></span>
    <span data-ng-show="(song.in_queue || queueBitset[song.key]) && context==='queue' && !song.removingFromQueue"
      class="glyphicon glyphicon-minus-sign" data-ng-click="removeSongFromQueue(song, $index)" title="Remove from Queue"></span>
    <span data-ng-show="(song.in_queue || queueBitset[song.key]) && context==='playlist'"
      class="glyphicon glyphicon-ok" title="This song is already in your queue"></span>
  </div>
  <div class="track__info">
    <div class="row">
      <div class="track__title col-xs-12" data-ng-class="{'text-muted': context === 'playlist' && queueBitset[song.key]}"
        title="{{ song.name }}" data-ng-bind="song.name | truncate:cutoff"></div>
    </div>
    <div class="row">
      <div class="track__artist col-xs-8" data-ng-class="{'text-muted': context === 'playlist' && queueBitset[song.key]}"
        data-ng-bind="song.artist | truncate:cutoff" title="{{ song.artist }}"></div>
      <div class="track__duration col-xs-4 text-right text-muted" data-ng-bind="song.duration | duration"></div>
    </div>
  </div>
  <div class="track__actions--queued">
    <a data-ng-click="moveToTopOfQueue($index)">
      <i data-ng-show="song.in_queue && context==='queue'" class="track__top glyphicon glyphicon-chevron-up"
        data-ng-click="moveToTopOfQueue($index)" title="Move to Top of Queue"></i>
    </a>
  </div>
</li>
